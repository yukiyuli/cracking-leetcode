# 代码随想录算法训练 Day 4 | 链表总结

Completed: December 12, 2022

Topic: Linked List

- [x] Done

- [ ] Redo

## 链表总结

### 移除链表元素

使用虚拟头节点，从虚拟头节点开始便利，删除每一个节点是让指针指向要删的节点的前一个节点，让指针指向后一个节点，并删除当前节点。当便利结束，返回虚拟头节点的后一个节点。

### 设计链表

使用虚拟头节点，在初始化链表的时候设置虚拟头节点。

获取表的index个节点，应该取到正对的那个节点，因此cur应该设置为head而不是dummyHead，并且由于index从0开始，所以index不能>size-1

在链表第index个节点前插入和删除都需要便利到目标节点的前一个节点，因此cur应该从dummyHead开始。而插入一个节点index可以是size，因为实际会取到最后一个节点并且在最后一个节点后边插入。删除节点index不能是size，因为没有size这个节点。

### 反转链表

使用双指针法。

首先定义一个cur指针，指向头结点，再定义一个pre指针，初始化为null。

然后开始反转，首先要把 cur->next 节点用temp指针保存一下，也就是保存一下这个节点。将cur.next指向pre，此时已经反转了第一个节点。然后pre=cur, cur=temp。

### ****两两交换链表中的节点****

使用虚拟头节点。并让cur指向虚拟头节点。接下来交换相邻两个元素，并定义两个临时变量，存储节点。

![IMG_0667](https://user-images.githubusercontent.com/101588752/207209157-a18dfff8-d920-4694-864a-3b1ba2508613.jpg)

> 注意：                                                                                                                                                 
> 1. 交换顺序                                                                                                                                            
> 2. 终止遍历情况一定要先偶数链表，不然会出现空指针
> 

### ****删除链表的倒数第N个节点****

使用虚拟头节点。定义两个快慢指针，fast，slow都指向虚拟头结点。fast首先走n + 1步，这样同时移动的时候slow才能指向删除节点的上一个节点（方便做删除操作）。fast和slow同时移动，直到fast指向末尾。

> 注意：slow指针必须指向要删除节点的前一个节点
> 

### ****链表相交****

这里计算的是两个链表首个交点节点的指针，交点比较的是指针相同而不是数值相同。

定义两个指针分别指向两个链表的头部。比较两个链表的长度，并求出两个链表长度的差值，让两个链表尾部对齐。两个指针同时向后遍历，直到找到两个指针相同的节点并返回。否则循环退出返回空指针。

### ****环形链表II****

1. 先判断是否有环。

使用快慢指针法，分别定义 fast 和 slow 指针，从头结点出发，fast指针每次移动两个节点，slow指针每次移动一个节点，如果 fast 和 slow指针在途中相遇 ，说明这个链表有环。

1. 判断环的入口

![Untitled](https://user-images.githubusercontent.com/101588752/207209172-1a7fc869-dda4-48cb-b433-92c05aa31da6.png)


相遇时slow指针走过的节点数为: `x + y`， fast指针走过的节点数：`x + y + n (y + z)`，因为fast指针是一步走两个节点，slow指针一步走一个节点， 所以 fast指针走过的节点数是slow指针走2倍。假设n=1，公式就化解为 `x = z`，也就是一个指针从头走，一个从交点走，两个指针第一次相遇点为入口。
